---
import { Icon } from "astro-icon/components";

import Layout from "@/components/astro/layout/Layout.astro";
import AppLink from "@/components/astro/ui/AppLink.astro";

import { BOOKS } from "@/constant/books";

const title = "Library";
const description =
  "A list of books that I've read and recommend to either boost your professional career or spice up your life!";
---

<Layout title={title} description={description} og="og-bookshelf">
  <section class=":uno: grid grid-cols-12 gap-4">
    <h1
      class=":uno: col-start-1 col-end-13 md:col-end-4 text-xl text-heading font-semibold transition-colors"
    >
      Library
    </h1>

    <div
      class=":uno: col-start-1 col-end-13 md:col-start-5 space-y-4"
    >
      <p>
        Starting from 2023, I've been building my reading habit and found the
        experience to be rewarding for my career and personal life.
      </p>

      <p>
        I mostly read non-fiction books since they contain insights for
        self-improvement. However, I occasionally read fiction when I'm bored
        with current manga offerings.
      </p>
    </div>
  </section>

  {
    Object.entries(BOOKS).map(([year, book]) => {
      const bookList = book.map((b) => (
        <li class=":uno: justify-between md:grid md:grid-cols-[max-content_auto]">
          <AppLink
            class=":uno: group text-heading/80 transition-colors items-center hover:text-heading focus:text-heading flex text-balance font-medium space-x-1"
            href={b.link}
          >
            <span class="flex-1">{b.title}</span>
            <Icon
              name="lucide:arrow-up-right"
              class=":uno: w-4 h-auto transition-all text-heading/50 group-hover:text-heading group-focus:text-heading group-hover:rotate-45 group-focus:rotate-45 flex-shrink-0"
            />
          </AppLink>

          <p class=":uno: text-balance text-sm leading-normal md:text-base md:text-right">
            {b.author}
          </p>
        </li>
      ));

      return (
        <section class=":uno: grid grid-cols-12 gap-4">
          <p class=":uno: font-semibold tracking-tight text-heading col-start-1 col-end-13 md:col-end-4">
            {year}
          </p>

          <ul class=":uno: col-start-1 col-end-13 md:col-start-5 space-y-2">
            {bookList}
          </ul>
        </section>
      );
    })
  }
</Layout>
