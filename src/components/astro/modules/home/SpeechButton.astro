---
import { Icon } from "astro-iconify";
---

<button
  aria-label="Pronounce Namchee"
  class=":uno: rounded-full border border-separator hover:text-content hover:bg-surface dark:border-none dark:bg-surface dark:hover:bg-separator transition-colors p-1 grid place-items-center speech__button"
>
  <Icon pack="lucide" name="volume-2" class=":uno: fill-current w-4 h-auto" />
</button>

<script is:inline>
  if (
    typeof window.speechSynthesis !== "undefined" &&
    typeof window.SpeechSynthesisUtterance !== "undefined"
  ) {
    const utterance = new window.SpeechSynthesisUtterance("Nam chÃ©");
    utterance.lang = "id-ID";
    utterance.pitch = 1.35;

    const button = document.querySelector(".speech__button");
    button.addEventListener("click", () => {
      window.speechSynthesis.speak(utterance);
    });
  }
</script>
