---
import { cva } from "class-variance-authority";

import { Icon } from "astro-icon/components";

interface Props {
  variant: "note" | "warning" | "danger";
}

const { variant } = Astro.props;

const container = cva(
  ":uno: relative transition-colors p-4 my-8! -ml-[15px] w-[calc(100%+30px)] border-l-2 rounded-r-md",
  {
    variants: {
      variant: {
        note: "bg-accent/10 border-accent text-accent",
        warning: "bg-warning/10 border-warning text-warning",
        danger: "bg-danger border-danger text-danger",
      },
    },
    defaultVariants: {
      variant: "note",
    },
  }
);

const icon = cva(
  ":uno: absolute size-[28px] rounded-full -top-[14px] -left-[15px] grid place-items-center transition-colors",
  {
    variants: {
      variant: {
        note: "bg-accent dark:bg-[var(--indigo-500)]",
        warning: '',
        danger: '',
      },
    },
    defaultVariants: {
      variant: "note",
    },
  }
);
---

<div class={container({ variant })}>
  <div class={icon({ variant })}>
    <Icon name="lucide:lightbulb" class="size-4 text-white" />
  </div>

  <slot />
</div>
