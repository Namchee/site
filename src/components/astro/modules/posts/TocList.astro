---
import AppLink from '@/components/astro/ui/AppLink.astro';

import type { Heading } from '@/scripts/toc';

interface Props {
  headings: Heading[];
}

const { headings } = Astro.props;

const marginMap = {
  2: 'pl-0',
  3: 'pl-4',
  4: 'pl-8',
  5: 'pl-12',
};
---

<ul class="space-y-3 mt-3">
  {headings.map(
    head => (
      <li class={marginMap[head.depth]}>
        <AppLink href={`#${head.slug}`} class="text-accent block transition-all">
          {head.text}
        </AppLink>

        {head.subheadings && <Astro.self headings={head.subheadings} />}
      </li>
    )
  )}
</ul>
