---
import AppLink from '@/components/astro/AppLink.astro';

export interface CircledLinkProps {
  href: string;
  external?: boolean;
}

const { href, external } = Astro.props;
---

<AppLink
  href={href}
  external={external}
  class="circled__button grid place-items-center"
>
  <slot />
  <svg
    class="circled__accent w-auto h-[107.5%] col-span-full row-span-full pointer-events-none"
    viewBox="0 0 323 76"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M105.448 71.2275C167.155 71.2275 234.339 72.1474 290.526 54.3889C305.355 49.7021 328.579 41.2899 317.517 29.5741C310.533 22.1779 295.151 18.0484 282.651 14.9511C260.554 9.47623 236.674 6.49714 213 4.85772C164.523 1.5007 108.608 2.04362 62.1316 11.9477C44.814 15.638 -4.80355 25.6012 4.04842 42.1292C11.4762 55.998 37.9825 62.6807 59.5063 65.9101C100.564 72.0703 144.61 72.2989 186.666 73"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
    />
  </svg>
</AppLink>

<style>
.circled__accent path {
	stroke-dasharray: 1000;
	stroke-dashoffset: 1000;

	transition: stroke-dashoffset 500ms linear;
}

.circled__button:hover .circled__accent path,
.circled__button:focus .circled__accent path {
	stroke-dashoffset: 0;
}
</style>
