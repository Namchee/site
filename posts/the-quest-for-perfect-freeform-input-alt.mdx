---
title: The Quest For Perfect Plaintext Input
publishedAt: 2025-05-29
subtitle: "Will this new value makes us drop textarea?"
isDraft: false
tags:
  - web
---

March 2025 has brought us a new update to the web platform: the induction of `plaintext-only` value for
`contenteditable` attribute to [Widely Available Baseline](https://web.dev/blog/contenteditable-plaintext-only-baseline),
which is a prevalent attribute commonly used in WYSIWYG editors.

As the name suggest, using this value will narrow down the value that may be received by the `contenteditable` element to only plaintext values.

However we already have the good old `<textarea>` to handle freeform plaintext inputs, so what is WHATWG thinking when creating
this new value?

## When Textarea Isn't Enough

Since its introduction of HTML2 in [November 1995](https://www.w3.org/MarkUp/html-spec/), multi-line plaintext inputs has always
been traditionally defined with the `<textarea>` element instead of `<input>`.

<figure class="my-4 w-full max-w-4/5 mx-auto">
  <textarea class="border border-separator p-2 font-mono w-full bg-background transition-colors">Hello, I'm textarea ðŸ‘‹</textarea>
  <figcaption class="text-xs italic text-center">An example of textarea with minimal setup</figcaption>
</figure>

The main difference between `<textarea>` and `<input>` element beside the wrapping behavior is the additional handle on the bottom right
of the element for resizing and the addition of `rows` and `cols` attribute that controls the initial size of the element.

As you started adopting `<textarea>`, you will begin to realize that your styling options to the contents inside the `<textarea>`
is only limited to inherited attributes that you can define in `<textarea>`.

Contents inside `<textarea>` are treated the same way as [replaced elements](https://html.spec.whatwg.org/multipage/rendering.html#replaced-elements),
they have their own intrinsic dimensions and it's up to the user agent to control how the contents are rendered.

Since the contents exist outside the [CSS rendering model](https://www.w3.org/TR/WD-CSS2/visuren.html), `<textarea>` doesn't have the capability to
automatically resize itself which is a common usecase for modern UI interfaces.

To address this issue, developers usually handles it with JavaScript in similar fashion as the following:

```js title=Textarea.js
const textarea = document.querySelector('.textarea__autosize');

document.addEventListener('input', () => {
  if (textarea) {
    // Reset textarea height to auto to correctly calculate the new height
    textarea.style.height = 'auto';
    const newHeight = textarea.scrollHeight;

    textarea.style.height = `${newHeight}px`;
    textarea.style.overflowY = 'hidden';

    /**
     * If you want autosize to a certain max number of rows:
     *
     * const MAX_ROWS = 8;
     *
     * // Calculate maximum height from maxRows
     * const lineHeight =
     *   parseInt(window.getComputedStyle(textarea).lineHeight, 10) || 0;
     *
     * const maxHeight = lineHeight * maxRows;
     *
     * if (newHeight > maxHeight) {
     *   // If new height exceeds maxHeight, set to maxHeight and enable scroll
     *   textarea.style.height = `${maxHeight}px`;
     *   textarea.style.overflowY = 'scroll';
     * }
     */
  }
});
```


## When Contenteditable Does Too Much

## The Middleground

## Will It Kill Textarea?
